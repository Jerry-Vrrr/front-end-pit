{"ast":null,"code":"var _jsxFileName = \"/Users/jerryvohrer/bespoke-work/front-end-pit/src/components/ClientDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { CompanyContext } from '../context/CompanyContext';\nimport AuthContext from '../context/AuthContext'; // Import the AuthContext\nimport Modal from '../components/Modal'; // Import the Modal component\nimport './ClientDetail.css';\nimport play from '../assets/play.png';\nimport nope from '../assets/nope.png';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ClientDetail = () => {\n  _s();\n  var _modalContent$, _modalContent$2, _modalContent$3;\n  const {\n    companyId\n  } = useParams();\n  const {\n    COMPANY_MAPPING,\n    entriesLast24Hours,\n    gravityFormEntries,\n    allCalls,\n    totalCalls,\n    callsLast24Hours,\n    trend30Days,\n    trend24Hours\n  } = useContext(CompanyContext);\n  const {\n    userRole\n  } = useContext(AuthContext); // Get userRole from AuthContext\n  const [filter, setFilter] = useState('all');\n  const [expandedEntries, setExpandedEntries] = useState([]);\n  const [showMoreCalls, setShowMoreCalls] = useState(false);\n  const [showMoreEntries, setShowMoreEntries] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalContent, setModalContent] = useState(null);\n  const openModal = content => {\n    setModalContent(content);\n    setIsModalOpen(true);\n  };\n  const closeModal = () => {\n    setIsModalOpen(false);\n    setModalContent(null);\n  };\n\n  // Handle filtering of calls based on the selected filter\n  const getFilteredCalls = () => {\n    let clientCalls = allCalls[companyId] || [];\n    switch (filter) {\n      case 'over2minutes':\n        return clientCalls.filter(call => call.duration > 120);\n      case 'repeat':\n        const callMap = new Map();\n        return clientCalls.filter(call => {\n          if (callMap.has(call.customer_phone_number)) {\n            return true;\n          } else {\n            callMap.set(call.customer_phone_number, true);\n            return false;\n          }\n        });\n      case 'unanswered':\n        return clientCalls.filter(call => !call.answered);\n      default:\n        return clientCalls;\n    }\n  };\n  const filteredCalls = getFilteredCalls();\n  const handleFilterChange = selectedFilter => {\n    setFilter(selectedFilter);\n  };\n  const handleShowMoreCalls = () => {\n    setShowMoreCalls(!showMoreCalls);\n  };\n  const handleShowMoreEntries = () => {\n    setShowMoreEntries(!showMoreEntries);\n  };\n  const handleToggleExpand = id => {\n    setExpandedEntries(prevExpandedEntries => prevExpandedEntries.includes(id) ? prevExpandedEntries.filter(entryId => entryId !== id) : [...prevExpandedEntries, id]);\n  };\n  const formatDuration = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;\n  };\n  if (!COMPANY_MAPPING[companyId]) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Company not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"client-detail-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [COMPANY_MAPPING[companyId], \" Lead Hub\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"call-label\",\n        children: [\"New Forms:\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `number ${(entriesLast24Hours === null || entriesLast24Hours === void 0 ? void 0 : entriesLast24Hours[companyId]) > 0 ? 'trend-up' : ''}`,\n          children: (entriesLast24Hours === null || entriesLast24Hours === void 0 ? void 0 : entriesLast24Hours[companyId]) || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"call-label\",\n        children: [\"Total Calls:\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `number ${userRole === 'admin' ? trend30Days[companyId] : ''}`,\n          children: totalCalls[companyId] || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"call-label\",\n        children: [\"New Calls:\", /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `number ${userRole === 'admin' ? trend24Hours[companyId] : ''}`,\n          children: callsLast24Hours[companyId] || 0\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Call Rail \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleFilterChange('all'),\n        children: \"All Calls\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleFilterChange('over2minutes'),\n        children: \"Calls Over 2 Minutes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleFilterChange('repeat'),\n        children: \"Repeat Calls\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleFilterChange('unanswered'),\n        children: \"Unanswered Calls\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), filteredCalls.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"client-detail-table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Duration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Listen to Call\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Date & Time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: filteredCalls.slice(0, showMoreCalls ? filteredCalls.length : 5).map(call => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: call.customer_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: call.customer_phone_number ? /*#__PURE__*/_jsxDEV(\"a\", {\n              className: \"phone\",\n              href: `tel:${call.customer_phone_number}`,\n              children: `(${call.customer_phone_number.slice(2, 5)}) ${call.customer_phone_number.slice(5, 8)}-${call.customer_phone_number.slice(8)}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 21\n            }, this) : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: formatDuration(call.duration)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              borderBottom: '1px solid #ddd',\n              padding: '8px'\n            },\n            children: call.recording_player ? /*#__PURE__*/_jsxDEV(\"a\", {\n              href: call.recording_player,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: play,\n                alt: \"Play Recording\",\n                width: \"20\",\n                height: \"20\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: nope,\n              alt: \"No Recording\",\n              width: \"20\",\n              height: \"20\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: new Date(call.start_time).toLocaleString([], {\n              year: 'numeric',\n              month: '2-digit',\n              day: '2-digit',\n              hour: '2-digit',\n              minute: '2-digit'\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 17\n          }, this)]\n        }, call.call_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 11\n      }, this), filteredCalls.length > 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"show-more-container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"show-more-button\",\n          onClick: () => openModal(filteredCalls),\n          children: \"Show More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No calls found for this client.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Gravity Forms Entries\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gravity-forms-data\",\n      children: gravityFormEntries.length > 0 ? /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"gravity-forms-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Message\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Date & Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: gravityFormEntries.filter(entry => entry.company_id === companyId).slice(0, showMoreEntries ? gravityFormEntries.length : 5).map(entry => {\n            var _entry$message;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: entry.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: entry.phone ? /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"phone\",\n                  href: `tel:${entry.phone}`,\n                  children: (() => {\n                    const cleanedNumber = entry.phone.replace(/\\D/g, '');\n                    return `(${cleanedNumber.slice(0, 3)}) ${cleanedNumber.slice(3, 6)}-${cleanedNumber.slice(6)}`;\n                  })()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 25\n                }, this) : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: entry.email ? /*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"link\",\n                  href: `mailto:${entry.email}`,\n                  children: entry.email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 5\n                }, this) : 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: ((_entry$message = entry.message) === null || _entry$message === void 0 ? void 0 : _entry$message.length) > 100 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: expandedEntries.includes(entry.id) ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [entry.message, /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"show-button\",\n                      onClick: () => handleToggleExpand(entry.id),\n                      children: \"Show Less\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [entry.message.substring(0, 100), \"...\", /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"show-button\",\n                      onClick: () => handleToggleExpand(entry.id),\n                      children: \"Show More\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 225,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false) : entry.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(entry.date_created).toLocaleString([], {\n                  year: 'numeric',\n                  month: '2-digit',\n                  day: '2-digit',\n                  hour: '2-digit',\n                  minute: '2-digit'\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 21\n              }, this)]\n            }, entry.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), gravityFormEntries.length > 5 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"show-more-container\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"show-more-button\",\n            onClick: () => openModal(gravityFormEntries),\n            children: \"Show More\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No Gravity Forms entries found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this), isModalOpen && /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isModalOpen,\n      onClose: closeModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"client-detail-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 13\n              }, this), \" \", ((_modalContent$ = modalContent[0]) === null || _modalContent$ === void 0 ? void 0 : _modalContent$.duration) && /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Duration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 43\n              }, this), \" \", (_modalContent$2 = modalContent[0]) !== null && _modalContent$2 !== void 0 && _modalContent$2.recording_player ? /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Listen to Call\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 15\n              }, this) // For calls\n              : ((_modalContent$3 = modalContent[0]) === null || _modalContent$3 === void 0 ? void 0 : _modalContent$3.message) && /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Message\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 43\n              }, this) // For entries\n              , /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date & Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: Array.isArray(modalContent) && modalContent.map((item, index) => {\n              const rawPhone = item.customer_phone_number || item.phone;\n              const cleanedPhone = rawPhone ? rawPhone.replace(/\\D/g, '') : '';\n\n              // Function to format phone number\n              const formatPhoneNumber = phone => {\n                if (phone.length === 10) {\n                  // Format as (XXX) XXX-XXXX for 10-digit numbers\n                  return `(${phone.slice(0, 3)}) ${phone.slice(3, 6)}-${phone.slice(6)}`;\n                } else if (phone.length === 11 && phone.startsWith('1')) {\n                  // Remove +1 for 11-digit numbers starting with '1' and format as (XXX) XXX-XXXX\n                  return `(${phone.slice(1, 4)}) ${phone.slice(4, 7)}-${phone.slice(7)}`;\n                } else {\n                  // Display raw phone number if it doesn't fit the standard formats\n                  return rawPhone;\n                }\n              };\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"truncate\",\n                  children: item.customer_name || item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"truncate\",\n                  children: rawPhone ? /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"phone\",\n                    href: `tel:${cleanedPhone}`,\n                    children: formatPhoneNumber(cleanedPhone)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 21\n                  }, this) : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 17\n                }, this), item.duration && /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: formatDuration(item.duration)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 35\n                }, this), item.recording_player ? /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: item.recording_player,\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: play,\n                      alt: \"Play Recording\",\n                      width: \"20\",\n                      height: \"20\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 309,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 19\n                }, this) : item.message ? /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"truncate\",\n                  children: item.message.length > 100 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [item.message.substring(0, 100), \"...\", /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"show-button\",\n                      onClick: () => openModal([item]),\n                      children: \"Read More\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 317,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true) : item.message\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this) : /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: nope,\n                    alt: \"Play Recording\",\n                    width: \"20\",\n                    height: \"20\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 19\n                }, this), item.email && /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `mailto:${item.email}`,\n                    className: \"link\",\n                    children: item.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 328,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: new Date(item.start_time || item.date_created).toLocaleString([], {\n                    year: 'numeric',\n                    month: '2-digit',\n                    day: '2-digit',\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 17\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 15\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 3\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n_s(ClientDetail, \"mnyWoVTD+6fcGRaxLdSRd1FbimY=\", false, function () {\n  return [useParams];\n});\n_c = ClientDetail;\nexport default ClientDetail;\nvar _c;\n$RefreshReg$(_c, \"ClientDetail\");","map":{"version":3,"names":["React","useState","useContext","useParams","CompanyContext","AuthContext","Modal","play","nope","jsxDEV","_jsxDEV","Fragment","_Fragment","ClientDetail","_s","_modalContent$","_modalContent$2","_modalContent$3","companyId","COMPANY_MAPPING","entriesLast24Hours","gravityFormEntries","allCalls","totalCalls","callsLast24Hours","trend30Days","trend24Hours","userRole","filter","setFilter","expandedEntries","setExpandedEntries","showMoreCalls","setShowMoreCalls","showMoreEntries","setShowMoreEntries","isModalOpen","setIsModalOpen","modalContent","setModalContent","openModal","content","closeModal","getFilteredCalls","clientCalls","call","duration","callMap","Map","has","customer_phone_number","set","answered","filteredCalls","handleFilterChange","selectedFilter","handleShowMoreCalls","handleShowMoreEntries","handleToggleExpand","id","prevExpandedEntries","includes","entryId","formatDuration","seconds","mins","Math","floor","secs","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","length","slice","map","customer_name","href","style","borderBottom","padding","recording_player","target","rel","src","alt","width","height","Date","start_time","toLocaleString","year","month","day","hour","minute","call_id","entry","company_id","_entry$message","name","phone","cleanedNumber","replace","email","message","substring","date_created","isOpen","onClose","Array","isArray","item","index","rawPhone","cleanedPhone","formatPhoneNumber","startsWith","_c","$RefreshReg$"],"sources":["/Users/jerryvohrer/bespoke-work/front-end-pit/src/components/ClientDetail.js"],"sourcesContent":["import React, { useState, useContext } from 'react';\nimport { useParams} from 'react-router-dom';\nimport { CompanyContext } from '../context/CompanyContext'; \nimport AuthContext from '../context/AuthContext'; // Import the AuthContext\nimport Modal from '../components/Modal'; // Import the Modal component\nimport './ClientDetail.css'; \nimport play from '../assets/play.png';\nimport nope from '../assets/nope.png';\n\nconst ClientDetail = () => {\n  const { companyId } = useParams();\n  const { COMPANY_MAPPING, entriesLast24Hours, gravityFormEntries, allCalls, totalCalls, callsLast24Hours, trend30Days, trend24Hours } = useContext(CompanyContext);\n  const { userRole } = useContext(AuthContext); // Get userRole from AuthContext\n  const [filter, setFilter] = useState('all');\n  const [expandedEntries, setExpandedEntries] = useState([]);\n  const [showMoreCalls, setShowMoreCalls] = useState(false);\n  const [showMoreEntries, setShowMoreEntries] = useState(false);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [modalContent, setModalContent] = useState(null);\n\n  const openModal = (content) => {\n    setModalContent(content);\n    setIsModalOpen(true);\n  };\n  \n  const closeModal = () => {\n    setIsModalOpen(false);\n    setModalContent(null);\n  };\n  \n\n  // Handle filtering of calls based on the selected filter\n  const getFilteredCalls = () => {\n    let clientCalls = allCalls[companyId] || [];\n\n    switch (filter) {\n      case 'over2minutes':\n        return clientCalls.filter(call => call.duration > 120);\n      case 'repeat':\n        const callMap = new Map();\n        return clientCalls.filter(call => {\n          if (callMap.has(call.customer_phone_number)) {\n            return true;\n          } else {\n            callMap.set(call.customer_phone_number, true);\n            return false;\n          }\n        });\n      case 'unanswered':\n        return clientCalls.filter(call => !call.answered);\n      default:\n        return clientCalls;\n    }\n  };\n\n  const filteredCalls = getFilteredCalls();\n\n  const handleFilterChange = (selectedFilter) => {\n    setFilter(selectedFilter);\n  };\n\n  const handleShowMoreCalls = () => {\n    setShowMoreCalls(!showMoreCalls);\n  };\n\n  const handleShowMoreEntries = () => {\n    setShowMoreEntries(!showMoreEntries);\n  };\n\n  const handleToggleExpand = (id) => {\n    setExpandedEntries((prevExpandedEntries) =>\n      prevExpandedEntries.includes(id)\n        ? prevExpandedEntries.filter((entryId) => entryId !== id)\n        : [...prevExpandedEntries, id]\n    );\n  };\n\n  const formatDuration = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs < 10 ? '0' : ''}${secs}`;\n  };\n\n  if (!COMPANY_MAPPING[companyId]) {\n    return <p>Company not found.</p>;\n  }\n\n  return (\n\n    <div className=\"client-detail-container\">\n      <h1>{COMPANY_MAPPING[companyId]} Lead Hub</h1>\n      <div className=\"stats\">\n  <p className=\"call-label\">\n    New Forms: \n    <span className={`number ${entriesLast24Hours?.[companyId] > 0 ? 'trend-up' : ''}`}>\n      {entriesLast24Hours?.[companyId] || 0}\n    </span>\n  </p>\n  <p className=\"call-label\">\n    Total Calls: \n    <span className={`number ${userRole === 'admin' ? trend30Days[companyId] : ''}`}>\n      {totalCalls[companyId] || 0}\n    </span>\n  </p>\n  <p className=\"call-label\">\n    New Calls: \n    <span className={`number ${userRole === 'admin' ? trend24Hours[companyId] : ''}`}>\n      {callsLast24Hours[companyId] || 0}\n    </span>\n  </p>\n</div>\n\n      <h2>Call Rail </h2>\n\n      <div className=\"filter-buttons\">\n        <button onClick={() => handleFilterChange('all')}>All Calls</button>\n        <button onClick={() => handleFilterChange('over2minutes')}>Calls Over 2 Minutes</button>\n        <button onClick={() => handleFilterChange('repeat')}>Repeat Calls</button>\n        <button onClick={() => handleFilterChange('unanswered')}>Unanswered Calls</button>\n      </div>\n      {filteredCalls.length > 0 ? (\n        <table className=\"client-detail-table\">\n          <thead>\n            <tr>\n              <th>Name</th>\n              <th>Number</th>\n              <th>Duration</th>\n              <th>Listen to Call</th>\n              <th>Date & Time</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filteredCalls.slice(0, showMoreCalls ? filteredCalls.length : 5).map((call) => (\n              <tr key={call.call_id}>\n                <td>{call.customer_name}</td>\n                <td>\n                  {call.customer_phone_number ? (\n                    <a className='phone' href={`tel:${call.customer_phone_number}`}>\n                      {`(${call.customer_phone_number.slice(2, 5)}) ${call.customer_phone_number.slice(5, 8)}-${call.customer_phone_number.slice(8)}`}\n                    </a>\n                  ) : (\n                    'N/A'\n                  )}\n                </td>\n                <td>{formatDuration(call.duration)}</td>\n                <td style={{ borderBottom: '1px solid #ddd', padding: '8px' }}>\n                  {call.recording_player ? (\n                    <a href={call.recording_player} target=\"_blank\" rel=\"noopener noreferrer\">\n                      <img src={play} alt=\"Play Recording\" width=\"20\" height=\"20\" />\n                    </a>\n                  ) : (\n                    <img src={nope} alt=\"No Recording\" width=\"20\" height=\"20\" />\n                  )}\n                </td>\n                <td>{new Date(call.start_time).toLocaleString([], { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' })}</td>\n              </tr>\n            ))}\n          </tbody>\n          {filteredCalls.length > 5 && (\n  <div className=\"show-more-container\">\n    <button \n      className=\"show-more-button\" \n      onClick={() => openModal(filteredCalls)}\n    >\n      Show More\n    </button>\n  </div>\n)}\n        </table>\n      ) : (\n        <p>No calls found for this client.</p>\n      )}\n      <h2>Gravity Forms Entries</h2>\n      <div className=\"gravity-forms-data\">\n        {gravityFormEntries.length > 0 ? (\n          <table className=\"gravity-forms-table\">\n            <thead>\n              <tr>\n                <th>Name</th>\n                <th>Number</th>\n                <th>Email</th>\n                <th>Message</th>\n                <th>Date & Time</th>\n              </tr>\n            </thead>\n            <tbody>\n              {gravityFormEntries\n                .filter(entry => entry.company_id === companyId)\n                .slice(0, showMoreEntries ? gravityFormEntries.length : 5)\n                .map((entry) => (\n                  <tr key={entry.id}>\n                    <td>{entry.name}</td>\n                    <td>\n                      {entry.phone ? (\n                        <a className='phone' href={`tel:${entry.phone}`}>\n                          {(() => {\n                            const cleanedNumber = entry.phone.replace(/\\D/g, '');\n                            return `(${cleanedNumber.slice(0, 3)}) ${cleanedNumber.slice(3, 6)}-${cleanedNumber.slice(6)}`;\n                          })()}\n                        </a>\n                      ) : (\n                        'N/A'\n                      )}\n                    </td>\n                    <td>\n  {entry.email ? (\n    <a className='link' href={`mailto:${entry.email}`}>\n      {entry.email}\n    </a>\n  ) : (\n    'N/A'\n  )}\n</td>\n                    <td>\n                      {entry.message?.length > 100 ? (\n                        <>\n                          {expandedEntries.includes(entry.id) ? (\n                            <>\n                              {entry.message}\n                              <button className='show-button' onClick={() => handleToggleExpand(entry.id)}>Show Less</button>\n                            </>\n                          ) : (\n                            <>\n                              {entry.message.substring(0, 100)}...\n                              <button className='show-button' onClick={() => handleToggleExpand(entry.id)}>Show More</button>\n                            </>\n                          )}\n                        </>\n                      ) : (\n                        entry.message\n                      )}\n                    </td>\n                    <td>{new Date(entry.date_created).toLocaleString([], { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' })}</td>\n                  </tr>\n                ))}\n            </tbody>\n            {gravityFormEntries.length > 5 && (\n  <div className=\"show-more-container\">\n    <button \n      className=\"show-more-button\" \n      onClick={() => openModal(gravityFormEntries)}\n    >\n      Show More\n    </button>\n  </div>\n)}\n\n          </table>\n        ) : (\n          <p>No Gravity Forms entries found.</p>\n        )}\n      </div>\n      {isModalOpen && (\n  <Modal isOpen={isModalOpen} onClose={closeModal}>\n    <div className=\"modal-table-container\">\n      <table className=\"client-detail-table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Number</th>\n            <th>Email</th> {/* Only for entries */}\n            {modalContent[0]?.duration && <th>Duration</th>} {/* Only for calls */}\n            {modalContent[0]?.recording_player ? (\n              <th>Listen to Call</th>  // For calls\n            ) : (\n              modalContent[0]?.message && <th>Message</th>  // For entries\n            )}\n            <th>Date & Time</th>\n          </tr>\n        </thead>\n        <tbody>\n          {Array.isArray(modalContent) && modalContent.map((item, index) => {\n            const rawPhone = item.customer_phone_number || item.phone;\n            const cleanedPhone = rawPhone ? rawPhone.replace(/\\D/g, '') : '';\n\n            // Function to format phone number\n            const formatPhoneNumber = (phone) => {\n              if (phone.length === 10) {\n                // Format as (XXX) XXX-XXXX for 10-digit numbers\n                return `(${phone.slice(0, 3)}) ${phone.slice(3, 6)}-${phone.slice(6)}`;\n              } else if (phone.length === 11 && phone.startsWith('1')) {\n                // Remove +1 for 11-digit numbers starting with '1' and format as (XXX) XXX-XXXX\n                return `(${phone.slice(1, 4)}) ${phone.slice(4, 7)}-${phone.slice(7)}`;\n              } else {\n                // Display raw phone number if it doesn't fit the standard formats\n                return rawPhone;\n              }\n            };\n\n            return (\n              <tr key={index}>\n                <td className=\"truncate\">{item.customer_name || item.name}</td>\n                <td className=\"truncate\">\n                  {rawPhone ? (\n                    <a\n                      className=\"phone\"\n                      href={`tel:${cleanedPhone}`}\n                    >\n                      {formatPhoneNumber(cleanedPhone)}\n                    </a>\n                  ) : (\n                    'N/A'\n                  )}\n                </td>\n                {item.duration && <td>{formatDuration(item.duration)}</td>}\n                {item.recording_player ? (\n                  <td>\n                    <a href={item.recording_player} target=\"_blank\" rel=\"noopener noreferrer\">\n                      <img src={play} alt=\"Play Recording\" width=\"20\" height=\"20\" />\n                    </a>\n                  </td>\n                ) : item.message ? (\n                  <td className=\"truncate\">\n                    {item.message.length > 100 ? (\n                      <>\n                        {item.message.substring(0, 100)}...\n                        <button className=\"show-button\" onClick={() => openModal([item])}>Read More</button>\n                      </>\n                    ) : (\n                      item.message\n                    )}\n                  </td>\n                ) : (\n                  <td><img src={nope} alt=\"Play Recording\" width=\"20\" height=\"20\" /></td>\n                )}\n                {item.email && (\n                  <td>\n                    <a href={`mailto:${item.email}`} className=\"link\">\n                      {item.email}\n                    </a>\n                  </td>\n                )}\n                <td>{new Date(item.start_time || item.date_created).toLocaleString([], { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' })}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  </Modal>\n)}\n\n    </div>\n\n  \n  );\n};\n\nexport default ClientDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}