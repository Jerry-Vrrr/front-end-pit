{"ast":null,"code":"var _jsxFileName = \"/Users/jerryvohrer/bespoke-work/front-end-pit/frontend/frontend/src/context/CompanyContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport AuthContext from './AuthContext'; // Import the AuthContext\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst COMPANY_MAPPING = {/*...*/};\nexport const CompanyContext = /*#__PURE__*/createContext();\nexport const CompanyProvider = ({\n  children\n}) => {\n  _s();\n  const [selectedCompany, setSelectedCompany] = useState(\"475663645\"); // Default to first company\n  const [totalCalls, setTotalCalls] = useState({});\n  const [callsLast24Hours, setCallsLast24Hours] = useState({});\n  const [trend24Hours, setTrend24Hours] = useState({});\n  const [trend30Days, setTrend30Days] = useState({});\n  const [entriesLast24Hours, setEntriesLast24Hours] = useState({});\n  const [gravityFormEntries, setGravityFormEntries] = useState([]);\n  const {\n    authToken\n  } = useContext(AuthContext); // Get the token from AuthContext\n\n  const fetchCallData = async companyId => {\n    try {\n      console.log(`Fetching call data for company: ${companyId}`);\n      const response = await axios.get(`http://localhost:3000/api/v1/call_rail_data?company_id=${companyId}`, {\n        headers: {\n          Authorization: `Bearer ${authToken}` // Use the token here\n        }\n      });\n      console.log('Call data fetched:', response.data);\n      setTotalCalls(response.data); // Set the state with the data\n    } catch (error) {\n      console.error('Error fetching call data:', error);\n    }\n  };\n  const fetchGravityFormsData = async () => {\n    try {\n      const response = await axios.get('http://localhost:3000/api/v1/gravity_forms/entries', {\n        headers: {\n          Authorization: `Bearer ${authToken}` // Use the token here\n        }\n      });\n      setGravityFormEntries(response.data); // Set the state with the data\n    } catch (error) {\n      console.error('Error fetching Gravity Forms data:', error);\n    }\n  };\n  useEffect(() => {\n    if (authToken) {\n      console.log('authToken in useEffect:', authToken);\n      fetchCallData(selectedCompany);\n      fetchGravityFormsData();\n    }\n  }, [selectedCompany, authToken]);\n  return /*#__PURE__*/_jsxDEV(CompanyContext.Provider, {\n    value: {\n      selectedCompany,\n      setSelectedCompany,\n      COMPANY_MAPPING,\n      totalCalls,\n      callsLast24Hours,\n      trend24Hours,\n      trend30Days,\n      setTrend24Hours,\n      setTrend30Days,\n      entriesLast24Hours,\n      gravityFormEntries\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(CompanyProvider, \"A8VlTcne9Pey/qT2+EUvdt+ry0w=\");\n_c = CompanyProvider;\nvar _c;\n$RefreshReg$(_c, \"CompanyProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","useContext","axios","AuthContext","jsxDEV","_jsxDEV","COMPANY_MAPPING","CompanyContext","CompanyProvider","children","_s","selectedCompany","setSelectedCompany","totalCalls","setTotalCalls","callsLast24Hours","setCallsLast24Hours","trend24Hours","setTrend24Hours","trend30Days","setTrend30Days","entriesLast24Hours","setEntriesLast24Hours","gravityFormEntries","setGravityFormEntries","authToken","fetchCallData","companyId","console","log","response","get","headers","Authorization","data","error","fetchGravityFormsData","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/jerryvohrer/bespoke-work/front-end-pit/frontend/frontend/src/context/CompanyContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect, useContext } from 'react';\nimport axios from 'axios';\nimport AuthContext from './AuthContext';  // Import the AuthContext\n\nconst COMPANY_MAPPING = { /*...*/ };\n\nexport const CompanyContext = createContext();\n\nexport const CompanyProvider = ({ children }) => {\n  const [selectedCompany, setSelectedCompany] = useState(\"475663645\"); // Default to first company\n  const [totalCalls, setTotalCalls] = useState({});\n  const [callsLast24Hours, setCallsLast24Hours] = useState({});\n  const [trend24Hours, setTrend24Hours] = useState({});\n  const [trend30Days, setTrend30Days] = useState({});\n  const [entriesLast24Hours, setEntriesLast24Hours] = useState({});\n  const [gravityFormEntries, setGravityFormEntries] = useState([]);\n\n  const { authToken } = useContext(AuthContext);  // Get the token from AuthContext\n\n  const fetchCallData = async (companyId) => {\n    try {\n      console.log(`Fetching call data for company: ${companyId}`);\n      const response = await axios.get(`http://localhost:3000/api/v1/call_rail_data?company_id=${companyId}`, {\n        headers: {\n          Authorization: `Bearer ${authToken}`,  // Use the token here\n        },\n      });\n      console.log('Call data fetched:', response.data);\n      setTotalCalls(response.data);  // Set the state with the data\n    } catch (error) {\n      console.error('Error fetching call data:', error);\n    }\n  };\n\n  const fetchGravityFormsData = async () => {\n    try {\n      const response = await axios.get('http://localhost:3000/api/v1/gravity_forms/entries', {\n        headers: {\n          Authorization: `Bearer ${authToken}`,  // Use the token here\n        },\n      });\n      setGravityFormEntries(response.data);  // Set the state with the data\n    } catch (error) {\n      console.error('Error fetching Gravity Forms data:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (authToken) {\n      console.log('authToken in useEffect:', authToken);\n  \n      fetchCallData(selectedCompany);\n      fetchGravityFormsData();\n    }\n  }, [selectedCompany, authToken]);\n\n  return (\n    <CompanyContext.Provider value={{ \n      selectedCompany, \n      setSelectedCompany, \n      COMPANY_MAPPING, \n      totalCalls, \n      callsLast24Hours,\n      trend24Hours,\n      trend30Days,\n      setTrend24Hours, \n      setTrend30Days,\n      entriesLast24Hours,\n      gravityFormEntries \n    }}>\n      {children}\n    </CompanyContext.Provider>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}